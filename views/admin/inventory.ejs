<!-- views/admin/users.ejs -->
<% include ../../partials/header %>

	<div class="page-header text-center">
		<h1><span class="fa fa-unlock"></span> Admin - Inventory</h1>
	</div>

	<table id="inventory" style="width: 100%">
		<thead>
			<th>ID</th>
			<th>Name</th>
			<th>Price</th>
			<th>Type</th>
			<th>Edit</th>
		</thead>
		<tbody>
		<% if(inventory) {
				inventory.forEach(function(item, index) { %>
					<tr>
						<!--<td class="itemName" contenteditable="True"><%= item.name %></td>-->
						<td><%= item.id %></td>
						<td><%= item.name %></td>
						<td><%= item.price %></td>
						<td><%= item.inventoryType %></td>
						<!--<td><input type="number" step="0.01" class="form-control itemPrice" value=<%= item.price %>></td>-->
						<td><button class='btn btn-primary'>Edit</button></td>
					</tr>
				<% });
			}%>
		</tbody>
	</table>

<!-- Edit Inventory Modal -->
<div class="container">

  <div class="modal fade" id="mdlEditInventory" role="dialog">
    <div class="modal-dialog">

      <div class="modal-content">
        <div class="modal-header" style="padding:32px 32px;">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4>Edit Inventory Item</h4>
        </div>
        <div class="modal-body" style="padding:48px 48px;">
          <form role="form">
            <div class="form-group">
              <label for="inventoryName">Name</label>
              <input type="text" class="form-control" id="inventoryName" placeholder="Enter name">
            </div>
            <div class="form-group">
              <label for="inventoryPrice">Price</label>
              <input type="text" class="form-control" id="inventoryPrice" placeholder="Enter price">
            </div>
						<div class="form-group">
              <label for="inventoryType">Inventory Type</label>
              <input type="text" class="form-control" id="inventoryType" placeholder="Enter type">
            </div>
            <button type="submit" class="btn btn-success btn-block">Update</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-danger btn-default pull-left" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>

<% include ../../partials/footer %>

<script>
$( document ).ready(function() {
    $("#inventory").DataTable({
    		"iDisplayLength": 50
  	});

		/*$(".itemName").on("blur", function() {
			alert("test");
		});*/
});

// Show "edit inventory" modal.
$(document).ready(function(){
    $(".btn").click(function(){
        $("#mdlEditInventory").modal();
    });
});
</script>
